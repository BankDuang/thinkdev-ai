{% extends "base.html" %}

{% block content %}
<!-- Left Panel -->
<aside class="panel-left">
    <div class="panel-section" id="projects-panel">
        <div class="panel-header">
            <span>Projects</span>
            <span style="flex:1"></span>
            <button class="btn-icon btn-xs" title="Collapse Left Panel" onclick="toggleLeftPanel()">&#9664;</button>
            <button class="btn-icon" title="New Project"
                    hx-get="/projects/create-form"
                    hx-target="#modal-container"
                    hx-swap="innerHTML"
                    style="font-size:16px;font-weight:300;color:var(--accent)">+</button>
        </div>
        <div id="project-list">
            {% include "partials/project_list.html" %}
        </div>
    </div>

    <div class="panel-section" id="file-tree-panel">
        <div class="panel-header">
            <span>Explorer</span>
        </div>
        <div id="file-tree">
            <div class="empty-state">Select a project</div>
        </div>
    </div>
</aside>

<!-- Left Resize Handle -->
<div id="left-resize-handle"></div>

<!-- Center Panel -->
<section class="panel-center">
    <div id="editor-area">
        <div class="empty-state center-empty">
            <div class="empty-icon">&#9998;</div>
            <div>Select a file to edit</div>
        </div>
    </div>
</section>

<!-- Right Resize Handle -->
<div id="right-resize-handle"></div>

<!-- Right Panel -->
<aside class="panel-right">
    <div class="panel-section" id="git-panel">
        <div class="panel-header">
            <span>Source Control</span>
            <span style="flex:1"></span>
            <button class="btn-icon btn-xs" title="Collapse Right Panel" onclick="toggleRightPanel()">&#9654;</button>
        </div>
        <div id="git-content">
            <div class="empty-state">Select a project</div>
        </div>
    </div>

    <div class="panel-section" id="session-panel">
        <div class="panel-header">
            <span>Sessions</span>
        </div>
        <div id="session-content">
            <div class="empty-state">No active sessions</div>
        </div>
    </div>
</aside>

<!-- Resize Handle (between content and terminal) -->
<div class="resize-handle-v" id="terminal-resize-handle"></div>

<!-- Bottom Panel (Terminal) -->
<section class="panel-bottom" id="terminal-container">
    <div class="panel-header terminal-header">
        <div class="terminal-tabs" id="terminal-tabs">
            <span class="empty-state-inline">No terminals</span>
        </div>
        <div class="terminal-header-actions">
            <button class="btn-icon btn-xs" title="Minimize" onclick="toggleTerminalMinimize()">&#9660;</button>
            <button class="btn-icon btn-xs" title="Maximize" onclick="toggleTerminalMaximize()">&#9634;</button>
            <button class="btn-icon" title="New Terminal" id="btn-new-terminal"
                    onclick="createTerminal()" disabled
                    style="font-size:16px;font-weight:300;color:var(--accent)">+</button>
        </div>
    </div>
    <div class="terminal-output" id="terminal-output">
        <div class="empty-state">Open a terminal to get started</div>
    </div>
</section>
{% endblock %}
